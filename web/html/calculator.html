<!DOCTYPE html>
<html>
<head>

<title>Calculator</title>

<script type="text/javascript" src="../common/uniface.js"></script>


<script type="text/javascript">

function Create()
{
  window.uniface.wrdurl = "../wrd";
  var cname = "SERVICEONLY";
  var iname = "CALCULATOR";
  var oname = "SENDMEAMESSAGE";
  var p = uniface.createInstance(cname, iname)
  .then(function() {
         var myInst = uniface.getInstance("CALCULATOR");
         myInst.activate(oname);
  })
  .catch(function(e) { alert(e);
  });
  return true;
}

function CallCalculator ()
{
    var myInstance = uniface.getInstance("CALCULATOR");
    myInstance.activate("CALC", document.getElementById("p1").value, document.getElementById("p2").value, document.getElementById("p3").value)
    .then(function(p) {
                                            document.getElementById("p1").value = p.args[0];
                                            document.getElementById("p2").value = p.args[1];
                                            document.getElementById("p3").value = p.args[2];
                                           }
         ).catch(function(e) { alert(e); });
   return true;
}

</script>

</head>

<body onload="Create();">
<input type="button" onclick="CallCalculator();" value="Call Calculator (also swaps P1 and P2)"/><br />
P1<input id="p1" type="number" /><br />
P2<input id="p2" type="number" /><br />
SUM<input id="p3" type="number" /><br />

</body>
</html>
